# çº¢ä¹¦å¯¹æ ‡åº“

ä¸€ä¸ªæ™ºèƒ½çš„å°çº¢ä¹¦ç¬”è®°æ”¶è—å’Œç®¡ç†å·¥å…·ï¼Œå¸®åŠ©æ‚¨å‘ç°çˆ†æ¬¾å†…å®¹ï¼Œæ”¶è—ä¸“å±çµæ„Ÿã€‚

## åŠŸèƒ½ç‰¹è‰²

- ğŸ¤– **æ™ºèƒ½æå–**: ä½¿ç”¨ AI è‡ªåŠ¨è§£æå°çº¢ä¹¦é“¾æ¥ï¼Œæå–æ ‡é¢˜ã€å°é¢ç­‰ä¿¡æ¯
- ğŸ·ï¸ **æ ‡ç­¾ç®¡ç†**: æ”¯æŒè‡ªå®šä¹‰æ ‡ç­¾åˆ†ç±»ï¼Œæ–¹ä¾¿å†…å®¹ç»„ç»‡
- ğŸ’¾ **æ°¸ä¹…å­˜å‚¨**: å›¾ç‰‡è‡ªåŠ¨ä¿å­˜åˆ° Supabase äº‘ç«¯ï¼Œé˜²æ­¢é“¾æ¥å¤±æ•ˆ
- ğŸ“± **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ‰‹æœºã€å¹³æ¿ã€æ¡Œé¢è®¾å¤‡
- ğŸ¨ **ç²¾ç¾ç•Œé¢**: ä»¿å°çº¢ä¹¦é£æ ¼çš„ç°ä»£åŒ–UIè®¾è®¡

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 14 + React 18
- **æ ·å¼**: Tailwind CSS + Shadcn UI
- **æ•°æ®å­˜å‚¨**: LocalStorage + Supabase Storage
- **AI æœåŠ¡**: Coze API
- **å›¾æ ‡**: Lucide React
- **è¯­è¨€**: TypeScript

## æ ¸å¿ƒåŠŸèƒ½

### æ™ºèƒ½æå–
åªéœ€ç²˜è´´å°çº¢ä¹¦é“¾æ¥ï¼Œç³»ç»Ÿè‡ªåŠ¨ï¼š
- æå–ç¬”è®°æ ‡é¢˜å’Œå†…å®¹
- è·å–å°é¢å›¾ç‰‡
- è§£æä½œè€…ä¿¡æ¯
- è¯†åˆ«ç›¸å…³æ ‡ç­¾

### å›¾ç‰‡æ°¸ä¹…åŒ–
- è‡ªåŠ¨ä¸‹è½½å°é¢å›¾ç‰‡åˆ° Supabase Storage
- ç”Ÿæˆæ°¸ä¹…è®¿é—®é“¾æ¥
- åˆ é™¤ç¬”è®°æ—¶åŒæ­¥åˆ é™¤äº‘ç«¯å›¾ç‰‡

### æ ‡ç­¾ç³»ç»Ÿ
- æ”¯æŒåˆ›å»ºè‡ªå®šä¹‰æ ‡ç­¾
- æ™ºèƒ½æ ‡ç­¾æ¨è
- æ ‡ç­¾ç­›é€‰æµè§ˆ

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. ç¯å¢ƒé…ç½®

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# Coze API é…ç½®
NEXT_PUBLIC_COZE_API_URL=https://api.coze.cn/v3/chat
NEXT_PUBLIC_COZE_BOT_ID=ä½ çš„Bot ID
COZE_API_KEY=ä½ çš„APIå¯†é’¥

# Supabase é…ç½®ï¼ˆåœ¨ä»£ç ä¸­å·²é…ç½®ï¼‰
NEXT_PUBLIC_SUPABASE_URL=https://gfwbgnzzvhsmmpwuytjr.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=ä½ çš„åŒ¿åå¯†é’¥
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ [http://localhost:3000](http://localhost:3000)

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ app/                    # Next.js åº”ç”¨ç›®å½•
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ permanent-images/ # å›¾ç‰‡æ°¸ä¹…å­˜å‚¨API
â”‚   â”œâ”€â”€ globals.css        # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx          # é¦–é¡µ
â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”œâ”€â”€ ui/               # åŸºç¡€UIç»„ä»¶
â”‚   â””â”€â”€ xhs-extractor-clean.tsx # ä¸»è¦åŠŸèƒ½ç»„ä»¶
â”œâ”€â”€ lib/                  # å·¥å…·åº“
â”‚   â”œâ”€â”€ coze-client.ts    # AI APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ image-cache.ts    # å›¾ç‰‡ç¼“å­˜ç®¡ç†
â”‚   â”œâ”€â”€ storage.ts        # æœ¬åœ°å­˜å‚¨ç®¡ç†
â”‚   â”œâ”€â”€ supabase.ts       # Supabaseå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ types.ts          # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ utils.ts          # å·¥å…·å‡½æ•°
â””â”€â”€ public/               # é™æ€èµ„æº
```

## ä¸»è¦ç»„ä»¶è¯´æ˜

### XHSExtractor
ä¸»è¦çš„åŠŸèƒ½ç»„ä»¶ï¼ŒåŒ…å«ï¼š
- é“¾æ¥è¾“å…¥å’Œæå–é€»è¾‘
- ç¬”è®°å±•ç¤ºç½‘æ ¼
- æ ‡ç­¾é€‰æ‹©å’Œç®¡ç†
- åˆ é™¤ç¡®è®¤ç­‰äº¤äº’

### å­˜å‚¨æ¶æ„
1. **LocalStorage**: å­˜å‚¨ç¬”è®°å…ƒæ•°æ®å’Œæ ‡ç­¾
2. **Supabase Storage**: å­˜å‚¨å°é¢å›¾ç‰‡æ–‡ä»¶
3. **å›¾ç‰‡ä¼˜å…ˆçº§**: æ°¸ä¹…å­˜å‚¨ > æœ¬åœ°ç¼“å­˜ > ä»£ç†URL

## API æ¥å£

### POST /api/permanent-images
ä¿å­˜å›¾ç‰‡åˆ° Supabase Storage

**è¯·æ±‚å‚æ•°**:
```json
{
  "imageUrl": "å›¾ç‰‡URL",
  "noteId": "ç¬”è®°ID"
}
```

**å“åº”æ ¼å¼**:
```json
{
  "success": true,
  "imageUrl": "æ°¸ä¹…è®¿é—®URL",
  "filename": "æ–‡ä»¶å"
}
```

## æ•°æ®ç±»å‹

### StoredNote
```typescript
interface StoredNote {
  id: string;
  title: string;
  content: string;
  author: { name: string };
  images: string[];
  originalImages?: string[];
  permanentImages?: string[];
  filename?: string;
  tags: string[];
  url?: string;
  createTime: string;
  extractedAt: string;
}
```

## éƒ¨ç½²è¯´æ˜

### Vercel éƒ¨ç½²
1. æ¨é€ä»£ç åˆ° GitHub
2. åœ¨ Vercel ä¸­å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡
4. è‡ªåŠ¨éƒ¨ç½²å®Œæˆ

### ç¯å¢ƒå˜é‡
ç¡®ä¿åœ¨ç”Ÿäº§ç¯å¢ƒä¸­é…ç½®æ‰€æœ‰å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š
- `COZE_API_KEY`
- `NEXT_PUBLIC_COZE_BOT_ID`
- Supabase ç›¸å…³é…ç½®

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ `lib/` ä¸­æ·»åŠ å·¥å…·å‡½æ•°
2. åœ¨ `components/` ä¸­åˆ›å»ºUIç»„ä»¶
3. æ›´æ–°ç±»å‹å®šä¹‰ `lib/types.ts`
4. æ·»åŠ APIè·¯ç”±ï¼ˆå¦‚éœ€è¦ï¼‰

### æ ·å¼è§„èŒƒ
- ä½¿ç”¨ Tailwind CSS ç±»å
- éµå¾ª mobile-first å“åº”å¼è®¾è®¡
- ä¿æŒå°çº¢ä¹¦é£æ ¼çš„çº¢è‰²ä¸»é¢˜

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼ 